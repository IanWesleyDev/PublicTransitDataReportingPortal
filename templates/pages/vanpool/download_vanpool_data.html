{% extends 'index.html' %}
{% load humanize %}
{% load custom_tags %}
{% load static %}
{%  load widget_tweaks %}

{% block head_content %}
<link href="{% static 'vendor/datatables/dataTables.bootstrap4.css' %}" rel="stylesheet" type="text/css">

{% endblock %}

{%  block content %}

 <div class="card-body" style="font-size: 0.8rem">
                        <form action="" method="get">
                            <div class="well">
                              <h4 style="margin-top: 0">Create a New Report</h4>
                                  <div class="row">
                                <div class="form-group col-sm-4 col-md-3">
                                    {{ filter.form.vanpool_goal_met.label_tag }}
                                    {{ filter.form.vanpool_goal_met }}
                                </div>
                                      <div class="form-group col-sm-4 col-md-3">
                                    {{ filter.form.expired.label_tag }}
                                    {{ filter.form.expired }}
                                </div>
                                      <div class="form-group col-sm-4 col-md-3">
                                    {{ filter.form.awarded_biennium.label_tag}}
                                    {{ filter.form.awarded_biennium }}
                                </div>
                                  </div>
                            </div>
                            <div align = "right">
                        <input type="submit" value = "Submit" />
                                </div>
                    </form>
                        <p> Select these buttons to download the table as an excel or csv file</p>
                    <div class="dataTable_wrapper">
                        <table id="download_vanpool_data_table" class='table tdt-bootstrap4 dataTable dataTable_wrapper'>
                            <thead class="table-secondary" style="font-size: 0.8rem">
                            <tr>
                               <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>

                                </td>
                            </tr>
                            </tbody>
                        </table>


                    </div>
                </div>
            </div>
        </div>
    </div>





{%  endblock %}

{% block page_scripts %}
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js "></script>
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.3.1.js "> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.bootstrap4.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"> </script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.colVis.min.js"> </script>

    <script type="text/javascript">
        $(document).ready( function () {
            var table = $('#download_vanpool_data_table').DataTable({
                "colReorder": true,
                "scrollX": true,
                "sScrollX": "100%",
                "sScrollXInner": "100%",
                "bLengthChange": false,
                 "bInfo": false,
                "bFilter": false,
                "bSort": true,
                "dom": 'B<"top"i>rt<"bottom"flp><"clear">',
                "buttons": ['excel', 'csv']

            });
            $('.dataTables_filter').addClass('form-inline');
            $('.dataTables_filter').css({"float":"left", "margin-bottom":"2px", "margin-left":"2px"})


            $(document).on('click', '#sidebarToggle', function () {
                table.draw();
            });

        });


{%  endblock %}